{type:"class",attributes:{"name":"Manager","packageName":"qx.ui.form.validation","superClass":"qx.core.Object","fullName":"qx.ui.form.validation.Manager","type":"class"},children:[{type:"desc",attributes:{"text":"<h3>EXPERIMENTAL!</h3>\n\n<p>This validation manager is responsible for validation of forms.</p>"}},{type:"constructor",children:[{type:"method",attributes:{"docFrom":"qx.core.Object","overriddenFrom":"qx.core.Object","isCtor":"true","name":"ctor"}}]},{type:"events",children:[{type:"event",attributes:{"name":"changeValid"},children:[{type:"desc",attributes:{"text":"<p>Change event for the valid state.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.event.type.Data"}}]}]},{type:"event",attributes:{"name":"complete"},children:[{type:"desc",attributes:{"text":"<p>Signals that the validation is done. This is not needed on synchronous\nvalidation (validation is done right after the call) but very important\nin the case a asynchronous validator will be used.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.event.type.Event"}}]}]}]},{type:"methods",children:[{type:"method",attributes:{"access":"private","name":"__checkValidationComplete"},children:[{type:"desc",attributes:{"text":"<p>Checks if all asynchronous validators have validated so the result\nis final and the {@link #complete} event can be fired. If thats not\nthe case, nothing will happen in the method.</p>"}}]},{type:"method",attributes:{"access":"private","name":"__isAsyncValidator"},children:[{type:"params",children:[{type:"param",attributes:{"name":"validator"},children:[{type:"desc",attributes:{"text":"<p>The validator to check.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Function"}},{type:"entry",attributes:{"type":""}},{type:"entry",attributes:{"type":"qx.ui.form.validation.Asyncvalidator"}}]}]}]},{type:"desc",attributes:{"text":"<p>Helper function which checks, if the given validator is synchronous\nor asynchronous.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>True, if the given validator is asynchronous.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}}]}]}]},{type:"method",attributes:{"access":"private","name":"__setValid"},children:[{type:"params",children:[{type:"param",attributes:{"name":"value"},children:[{type:"desc",attributes:{"text":"<p>The new valid value of the manager.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}},{type:"entry",attributes:{"type":"null"}}]}]}]},{type:"desc",attributes:{"text":"<p>Internal setter for the valid member. It generates the event if\nnecessary and stores the new value</p>"}}]},{type:"method",attributes:{"access":"private","name":"__supportsInvalid"},children:[{type:"params",children:[{type:"param",attributes:{"name":"formItem"},children:[{type:"desc",attributes:{"text":"<p>The item to check.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.core.Object"}}]}]}]},{type:"desc",attributes:{"text":"<p>Returns true, if the given item implements the {@link qx.ui.form.IForm}\ninterface.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>true, if the given item implements the\n  necessary interface.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"boolean"}}]}]}]},{type:"method",attributes:{"access":"private","name":"__supportsSingleSelection"},children:[{type:"params",children:[{type:"param",attributes:{"name":"formItem"},children:[{type:"desc",attributes:{"text":"<p>The item to check.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.core.Object"}}]}]}]},{type:"desc",attributes:{"text":"<p>Returns true, if the given item implements the\n{@link qx.ui.core.ISingleSelection} interface.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>true, if the given item implements the\n  necessary interface.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"boolean"}}]}]}]},{type:"method",attributes:{"access":"private","name":"__supportsValue"},children:[{type:"params",children:[{type:"param",attributes:{"name":"formItem"},children:[{type:"desc",attributes:{"text":"<p>The item to check.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.core.Object"}}]}]}]},{type:"desc",attributes:{"text":"<p>Returns true, if the value property is supplied by the form item.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>true, if the given item implements the\n  necessary interface.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"boolean"}}]}]}]},{type:"method",attributes:{"access":"private","name":"__validateForm"},children:[{type:"params",children:[{type:"param",attributes:{"name":"items"},children:[{type:"desc",attributes:{"text":"<p>An array of all form items.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.ui.core.Widget","dimensions":"1"}}]}]}]},{type:"desc",attributes:{"text":"<p>Validates the form. It checks for asynchronous validation and handles\nthe differences to synchronous validation. If no form validator is given,\ntrue will be returned. If a synchronous validator is given, the\nvalidation result will be returned. In asynchronous cases, null will be\nreturned cause the result is not available.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>description</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}},{type:"entry",attributes:{"type":"null"}}]}]}]},{type:"method",attributes:{"access":"private","name":"__validateItem"},children:[{type:"params",children:[{type:"param",attributes:{"name":"dataEntry"},children:[{type:"desc",attributes:{"text":"<p>The map stored in {@link #add}</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Object"}}]}]},{type:"param",attributes:{"name":"value"},children:[{type:"desc",attributes:{"text":"<p>The currently set value</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"desc",attributes:{"text":"<p>Validates a form item. This method handles the differences of\nsynchronous and asynchronous validation and returns the result of the\nvalidation if possible (synchronous cases). If the validation is\nasynchronous, null will be returned.</p>"}}]},{type:"method",attributes:{"access":"private","name":"__validateRequired"},children:[{type:"params",children:[{type:"param",attributes:{"name":"formItem"},children:[{type:"desc",attributes:{"text":"<p>The form item to check.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.ui.core.Widget"}}]}]}]},{type:"desc",attributes:{"text":"<p>Checks if the form item is required. If so, the value is checked\nand the result will be returned. If the form item is not required, true\nwill be returned.</p>"}}]},{type:"method",attributes:{"name":"add"},children:[{type:"params",children:[{type:"param",attributes:{"name":"formItem"},children:[{type:"desc",attributes:{"text":"<p>The form item to add.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.ui.core.Widget"}}]}]},{type:"param",attributes:{"name":"validator"},children:[{type:"desc",attributes:{"text":"<p>The validator.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Function"}},{type:"entry",attributes:{"type":"qx.ui.form.validation.AsyncValidator"}}]}]}]},{type:"desc",attributes:{"text":"<p>Add a form item to the validation manager.</p>\n\n<p>The form item has to implement at least two interfaces:\n<ol>\n  <li>The {@link qx.ui.form.IForm} Interface</li>\n  <li>One of the following interfaces:\n    <ul>\n      <li>{@link qx.ui.form.IBooleanForm}</li>\n      <li>{@link qx.ui.form.IColorForm}</li>\n      <li>{@link qx.ui.form.IDateForm}</li>\n      <li>{@link qx.ui.form.INumberForm}</li>\n      <li>{@link qx.ui.form.IStringForm}</li>\n    </ul>\n  </li>\n</ol>\nThe validator can be a synchronous or asynchronous validator. In\nboth cases the validator can either returns a boolean or fire an\n{@link qx.core.ValidationError}. For synchronous validation, a plain\nJavaScript function should be used. For all asynchronous validations,\na {@link qx.ui.form.validation.AsyncValidator} is needed to wrap the\nplain function.</p>"}}]},{type:"method",attributes:{"name":"getInvalidMessage","fromProperty":"invalidMessage"},children:[{type:"desc",attributes:{"text":"<p>Returns the (computed) value of the property <code>invalidMessage</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #invalidMessage}.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>(Computed) value of <code>invalidMessage</code>.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"method",attributes:{"name":"getInvalidMessages"},children:[{type:"desc",attributes:{"text":"<p>Returns an array of all invalid messages of the invalid form items and\nthe form manager itself.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>All invalid messages.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"String","dimensions":"1"}}]}]}]},{type:"method",attributes:{"name":"getValid"},children:[{type:"desc",attributes:{"text":"<p>Returns the valid state of the manager.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>The valid state of the manager.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}},{type:"entry",attributes:{"type":"null"}}]}]}]},{type:"method",attributes:{"name":"getValidator","fromProperty":"validator"},children:[{type:"desc",attributes:{"text":"<p>Returns the (computed) value of the property <code>validator</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #validator}.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>(Computed) value of <code>validator</code>.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"method",attributes:{"access":"protected","name":"initInvalidMessage","fromProperty":"invalidMessage"},children:[{type:"params",children:[{type:"param",attributes:{"name":"value"},children:[{type:"desc",attributes:{"text":"<p>Initial value for property <code>invalidMessage</code>.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"desc",attributes:{"text":"<p>Calls the apply method and dispatches the change event of the property <code>invalidMessage</code>\nwith the default value defined by the class developer. This function can\nonly be called from the constructor of a class.</p>\n\n<p>For further details take a look at the property definition: {@link #invalidMessage}.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>the default value</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"method",attributes:{"access":"protected","name":"initValidator","fromProperty":"validator"},children:[{type:"params",children:[{type:"param",attributes:{"name":"value"},children:[{type:"desc",attributes:{"text":"<p>Initial value for property <code>validator</code>.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"desc",attributes:{"text":"<p>Calls the apply method and dispatches the change event of the property <code>validator</code>\nwith the default value defined by the class developer. This function can\nonly be called from the constructor of a class.</p>\n\n<p>For further details take a look at the property definition: {@link #validator}.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>the default value</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"method",attributes:{"name":"isValid"},children:[{type:"desc",attributes:{"text":"<p>Returns the valid state of the manager.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>The valid state of the manager.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}},{type:"entry",attributes:{"type":"null"}}]}]}]},{type:"method",attributes:{"overriddenFrom":"qx.core.Object","name":"reset"},children:[{type:"desc",attributes:{"text":"<p>Resets the validator.</p>"}}]},{type:"method",attributes:{"name":"resetInvalidMessage","fromProperty":"invalidMessage"},children:[{type:"desc",attributes:{"text":"<p>Resets the user value of the property <code>invalidMessage</code>.</p>\n\n<p>The computed value falls back to the next available value e.g. appearance, init or\ninheritance value depeneding on the property configuration and value availability.</p>\n\n<p>For further details take a look at the property definition: {@link #invalidMessage}.</p>"}},{type:"return",children:[{type:"types",children:[{type:"entry",attributes:{"type":"void"}}]}]}]},{type:"method",attributes:{"name":"resetValidator","fromProperty":"validator"},children:[{type:"desc",attributes:{"text":"<p>Resets the user value of the property <code>validator</code>.</p>\n\n<p>The computed value falls back to the next available value e.g. appearance, init or\ninheritance value depeneding on the property configuration and value availability.</p>\n\n<p>For further details take a look at the property definition: {@link #validator}.</p>"}},{type:"return",children:[{type:"types",children:[{type:"entry",attributes:{"type":"void"}}]}]}]},{type:"method",attributes:{"access":"internal","isInternal":"true","name":"setFormValid"},children:[{type:"params",children:[{type:"param",attributes:{"name":"valid"},children:[{type:"desc",attributes:{"text":"<p>The valid state for the form manager.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}}]}]}]},{type:"desc",attributes:{"text":"<p>Internal helper method to set the form manager to valid for asynchronous\nvalidation calls. This indirection is used to determinate if the\nvalidation process is completed or if other asynchronous validators\nare still validating. {@link #__checkValidationComplete} checks if the\nvalidation is complete and will be called at the end of this method.</p>"}}]},{type:"method",attributes:{"name":"setInvalidMessage","fromProperty":"invalidMessage"},children:[{type:"params",children:[{type:"param",attributes:{"name":"value"},children:[{type:"desc",attributes:{"text":"<p>New value for property <code>invalidMessage</code>.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"desc",attributes:{"text":"<p>Sets the user value of the property <code>invalidMessage</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #invalidMessage}.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>The unmodified incoming value.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"method",attributes:{"access":"internal","isInternal":"true","name":"setItemValid"},children:[{type:"params",children:[{type:"param",attributes:{"name":"formItem"},children:[{type:"desc",attributes:{"text":"<p>The form item to set the valid state.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"qx.ui.core.Widget"}}]}]},{type:"param",attributes:{"name":"valid"},children:[{type:"desc",attributes:{"text":"<p>The valid state for the form item.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}}]}]}]},{type:"desc",attributes:{"text":"<p>Internal helper method to set the given item to valid for asynchronous\nvalidation calls. This indirection is used to determinate if the\nvalidation process is completed or if other asynchronous validators\nare still validating. {@link #__checkValidationComplete} checks if the\nvalidation is complete and will be called at the end of this method.</p>"}}]},{type:"method",attributes:{"name":"setValidator","fromProperty":"validator"},children:[{type:"params",children:[{type:"param",attributes:{"name":"value"},children:[{type:"desc",attributes:{"text":"<p>New value for property <code>validator</code>.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"desc",attributes:{"text":"<p>Sets the user value of the property <code>validator</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #validator}.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>The unmodified incoming value.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"var"}}]}]}]},{type:"method",attributes:{"name":"validate"},children:[{type:"desc",attributes:{"text":"<p>Invokes the validation. If only synchronous validators are set, the\nresult of the whole validation is available at the end of the method\nand can be returned. If a asynchronous validator is set, the result\nis still unknown at the end of this method so nothing will be returned.\nIn both cases, a {@link #complete} event will be fired if the validation\nhas ended. The result of the validation can then be accessed with the\n{@link #getValid} method.</p>"}},{type:"return",children:[{type:"desc",attributes:{"text":"<p>The validation result, if available.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Boolean"}},{type:"entry",attributes:{"type":"void"}}]}]}]}]},{type:"properties",children:[{type:"property",attributes:{"defaultValue":"\"\"","propertyType":"new","name":"invalidMessage","check":"String"},children:[{type:"desc",attributes:{"text":"<p>The invalid message should store the message why the form validation\nfailed. It will be added to the array returned by\n{@link #getInvalidMessages}.</p>"}}]},{type:"property",attributes:{"allowNull":"true","defaultValue":"null","propertyType":"new","name":"validator","check":"value instanceof Function || qx.Class.isSubClassOf(value.constructor, qx.ui.form.validation.AsyncValidator)"},children:[{type:"desc",attributes:{"text":"<p>The validator of the form itself. You can set a function (for\nsynchronous validation) or a {@link qx.ui.form.validation.AsyncValidator}.\nIn both cases, the function can have all added form items as first\nargument and the manager as a second argument. The manager should be used\nto set the {@link #invalidMessage}.</p>\n\n<p>Keep in mind that the validator is optional if you don&#8217;t need the\nvalidation in the context of the whole form.</p>"}},{type:"types",children:[{type:"entry",attributes:{"type":"Function"}},{type:"entry",attributes:{"type":"AsyncValidator"}}]}]}]}]}